{"version":3,"sources":["JsonDB.js","AddButton.js","BreadCrumbs.js","DeleteButton.js","FieldTypes.js","ng-bootstrap.js","MainController.js","TableController.js","TablesController.js","Router.js","Application.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var JsonDB = function ($resource) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\ttables:      $resource('/admin/tables'),\r\n\t\tcreateTable: $resource('core/TableCreate.php'),\r\n\t\ttable:       $resource('core/Table.php'),\r\n\t\tsaveTable:   $resource('core/TableSave.php')\r\n\t}\r\n};\r\n","var Components = Components || {};\r\nComponents.Semantic = Components.Semantic || {};\r\n\r\nComponents.Semantic.AddButton = function () {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\treplace:    true,\r\n\t\ttransclude: true,\r\n\t\tscope:      {\r\n\t\t\ttext:   '@',\r\n\t\t\taction: '&'\r\n\t\t},\r\n\t\ttemplate:   '<button class=\"ui button\" ng-click=\"action()\">{{text}}</button>'\r\n\t}\r\n};\r\n","var Components = Components || {};\r\nComponents.Semantic = Components.Semantic || {};\r\n\r\nComponents.Semantic.BreadCrumbs = function ($routeParams) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\treplace:    true,\r\n\t\ttransclude: true,\r\n\t\tcontroller: function ($scope) {\r\n\t\t\tvar rootUrl = '#/';\r\n\t\t\t$scope.crumbs = [{ url: rootUrl, text: 'Home' }];\r\n\t\t\tvar runningUrl = rootUrl;\r\n\r\n\t\t\tfor (var param in $routeParams) {\r\n\t\t\t\trunningUrl += $routeParams[param];\r\n\t\t\t\t$scope.crumbs.push({ url: runningUrl, text: $routeParams[param] })\r\n\t\t\t}\r\n\r\n\t\t\t$scope.notLast = function (crumb) {\r\n\t\t\t\treturn crumb !== _.last($scope.crumbs);\r\n\t\t\t}\r\n\t\t},\r\n\t\ttemplate:   `\r\n\t\t\t<div class=\"ui piled segment\">\r\n\t\t\t\t<div class=\"ui breadcrumb\">\r\n\t\t\t\t\t<span ng-repeat=\"crumb in crumbs\">\r\n\t\t\t\t\t\t<a href=\"{{crumb.url}}\" class=\"section\" ng-show=\"notLast(crumb)\">{{crumb.text}}</a>\r\n\t\t\t\t\t\t<div class=\"active section\" ng-hide=\"notLast(crumb)\">{{crumb.text}}</div>\r\n\t\t\t\t\t\t<i class=\"right angle icon divider\" ng-show=\"notLast(crumb)\"></i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`\r\n\t}\r\n};\r\n","var Components = Components || {};\r\nComponents.Semantic = Components.Semantic || {};\r\n\r\nComponents.Semantic.DeleteButton = function () {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\treplace:    true,\r\n\t\ttransclude: true,\r\n\t\tscope:      {\r\n\t\t\ttext:    '@',\r\n\t\t\taction:  '&',\r\n\t\t\tcomment: '='\r\n\t\t},\r\n\t\ttemplate:   '<button class=\"ui button\" ng-click=\"action()\"><i class=\"remove icon\"></i> {{text}}</button>'\r\n\t}\r\n};\r\n","var FieldTypes = FieldTypes || {};\r\n\r\nvar templates = function (modelName) {\r\n\t\"use strict\";\r\n\tconsole.log(modelName);\r\n\treturn {\r\n\t\tInteger: `<input type=\"text\" ng-model=\"${modelName}\" />`,\r\n\t\tText:    `<textarea ng-model=\"modelName\"></textarea>`\r\n\r\n\t}\r\n\r\n};\r\n\r\nFieldTypes.IntegerDir = function () {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\t// обязательно, для поддержки работы через элемент\r\n\t\trestrict: 'E',\r\n\r\n\t\t// заменить <photo> этим html\r\n\t\ttemplate:   '<div></div>',\r\n\t\treplace:    true,\r\n\t\ttransclude: true,\r\n\t\tscope:      {\r\n\t\t\ttype:  '@',\r\n\t\t\tvalue: '@'\r\n\t\t},\r\n\r\n\t\t// наблюдение и манипулирование DOM\r\n\t\tlink: function ($scope, element, attrs) {\r\n\t\t\t//console.log(attrs.type);\r\n\r\n\t\t\t$(element).append(`<input type=\"text\" ng-model=\"value\" />`);\r\n\r\n\t\t\t/*attrs.$observe('type', function (value) {\r\n\t\t\t\t/!*element.append()*!/\r\n\t\t\t\t//console.log(value);\r\n\t\t\t\t//\r\n\t\t\t});*/\r\n\r\n\t\t\t/*// атрибуты именуются с применением «верблюжьей» нотации\r\n\t\t\t attrs.$observe('photoSrc', function (value) {\r\n\t\t\t element.find('img').attr('src', value)\r\n\t\t\t })*/\r\n\t\t}\r\n\t}\r\n}\r\n;\r\n",null,"var MainController = function ($scope, $routeParams, JsonDB) {\r\n\t\"use strict\";\r\n};\r\n","var TableController = function ($scope, $routeParams, JsonDB) {\r\n\t$scope.tableName = $routeParams.table;\r\n\r\n\tvar table = JsonDB.table.query({ tableName: $scope.tableName }, true, function (data) {\r\n\t\t\"use strict\";\r\n\t\t$scope.data = data;\r\n\t\t$scope.table = [];\r\n\t\t$scope.keyLength = _.size(data[0]) + 1;\r\n\r\n\t\t_.each($scope.data, function (key, value, index) {\r\n\t\t\tvar obj = {};\r\n\t\t\tvar array = [];\r\n\t\t\t$scope.array = [];\r\n\t\t\t//$scope.table.push([]);\r\n\r\n\t\t\t_.each(key, function (object, key) {\r\n\t\t\t\t$scope.array.push({\r\n\t\t\t\t\t\tkey:       key,\r\n\t\t\t\t\t\tvalue:     object.value,\r\n\t\t\t\t\t\tfieldType: object.fieldType\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t$scope.table.push($scope.array);\r\n\t\t});\r\n\r\n\t\t$scope.keys = $scope.table[0];\r\n\t});\r\n\r\n\t$scope.showSettings = function (event) {\r\n\t\t\"use strict\";\r\n\t\tevent.preventDefault();\r\n\r\n\t\t$('.ui.modal')\r\n\t\t\t.modal('show')\r\n\t\t;\r\n\t};\r\n\r\n\t$scope.removeItem = function (event, tr) {\r\n\t\t\"use strict\";\r\n\r\n\t\tevent.preventDefault();\r\n\t\t$scope.table.splice($scope.table.indexOf(tr), 1);\r\n\t};\r\n\r\n\t$scope.addItem = function (event, tr) {\r\n\t\t\"use strict\";\r\n\t\tevent.preventDefault();\r\n\t\tvar newTr = [];\r\n\r\n\t\t_.each($scope.table[0], function (value, key) {\r\n\t\t\tnewTr.push({\r\n\t\t\t\tkey:       value.key,\r\n\t\t\t\tvalue:     '',\r\n\t\t\t\tfieldType: value.fieldType\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\t$scope.table.push(newTr);\r\n\t};\r\n\r\n\t$scope.saveTable = function (event) {\r\n\t\t\"use strict\";\r\n\t\tevent.preventDefault();\r\n\r\n\t\tvar tableToServer = [];\r\n\r\n\t\t_.each($scope.table, function (value, key, index) {\r\n\t\t\tvar obj = {};\r\n\r\n\t\t\t_.each(value, function (value, key) {\r\n\t\t\t\tobj[value.key] = {\r\n\t\t\t\t\tvalue:     value.value,\r\n\t\t\t\t\tfieldType: value.fieldType\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ttableToServer.push(obj);\r\n\t\t});\r\n\r\n\t\tvar table = new JsonDB.saveTable({\r\n\t\t\ttableName: $scope.tableName,\r\n\t\t\tdata:      tableToServer\r\n\t\t});\r\n\r\n\t\ttable.$save(function (u, putResponseHeaders) {\r\n\t\t\tif (u.success) {\r\n\t\t\t\talert('Успешно сохранено')\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n};\r\n","var TablesController = function ($scope, $routeParams, JsonDB) {\r\n\r\n\t$scope.tables = JsonDB.tables.get({}, true);\r\n\r\n\t$scope.addTable = function () {\r\n\t\t\"use strict\";\r\n\t\tvar newTableName = $scope.newTableName;\r\n\r\n\t\tvar newDb = new JsonDB.createTable({ createTable: newTableName });\r\n\t\tnewDb.$save();\r\n\r\n\t\t$scope.tables.push(newTableName);\r\n\t};\r\n\r\n\t$scope.removeTable = function (db) {\r\n\t\t\"use strict\";\r\n\r\n\t\t//if (confirm('Delete!?')) {\r\n\t\t$scope.items.splice($scope.items.indexOf(db), 1);\r\n\t\t//}\r\n\t}\r\n};\r\n","var Router = function ($routeProvider, $locationProvider) {\r\n\t\"use strict\";\r\n\t$routeProvider\r\n\t\t.when('/admin', {\r\n\t\t\ttemplateUrl: 'core/views/MainPage.html'\r\n\t\t})\r\n\t\t.when('/admin/tables', {\r\n\t\t\ttemplateUrl: 'core/views/Table/Tables.html',\r\n\t\t\tcontroller: 'TablesController'\r\n\t\t})\r\n\t\t.when('/admin/tables/:table', {\r\n\t\t\ttemplateUrl: 'views/Table/Table.html',\r\n\t\t\tcontroller: 'TableController'\r\n\t\t})\r\n\t\t.when('/admin/tables/:table/config', {\r\n\t\t\ttemplateUrl: 'views/Table/config.html',\r\n\t\t\tcontroller: 'TableController'\r\n\t\t})\r\n\t\t.otherwise({\r\n\t\t\ttemplateUrl: 'core/views/ErrorPage.html'\r\n\t\t});\r\n\r\n\t$locationProvider.html5Mode(true);\r\n};\r\n","var App = angular.module('Application', ['ngResource', 'ngRoute'], function ($httpProvider) {\r\n\t$httpProvider.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8';\r\n\t$httpProvider.defaults.transformRequest = [\r\n\t\tfunction (data) {\r\n\t\t\tvar param = function (obj) {\r\n\t\t\t\tvar query = '';\r\n\t\t\t\tvar name, value, fullSubName, subValue, innerObj, i;\r\n\r\n\t\t\t\tfor (name in obj) {\r\n\t\t\t\t\tvalue = obj[name];\r\n\r\n\t\t\t\t\tif (value instanceof Array) {\r\n\t\t\t\t\t\tfor (i = 0; i < value.length; ++i) {\r\n\t\t\t\t\t\t\tsubValue = value[i];\r\n\t\t\t\t\t\t\tfullSubName = name + '[' + i + ']';\r\n\t\t\t\t\t\t\tinnerObj = {};\r\n\t\t\t\t\t\t\tinnerObj[fullSubName] = subValue;\r\n\t\t\t\t\t\t\tquery += param(innerObj) + '&';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (value instanceof Object) {\r\n\t\t\t\t\t\tfor (var subName in value) {\r\n\t\t\t\t\t\t\tif (value.hasOwnProperty(subName) && subName !== '$$hashKey') {\r\n\t\t\t\t\t\t\t\tsubValue = value[subName];\r\n\t\t\t\t\t\t\t\tfullSubName = name + '[' + subName + ']';\r\n\t\t\t\t\t\t\t\tinnerObj = {};\r\n\t\t\t\t\t\t\t\tinnerObj[fullSubName] = subValue;\r\n\t\t\t\t\t\t\t\tquery += param(innerObj) + '&';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tquery += encodeURIComponent(name) + '=' + encodeURIComponent(value) + '&';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn query.length ? query.substr(0, query.length - 1) : query;\r\n\t\t\t};\r\n\r\n\t\t\treturn angular.isObject(data) && String(data) !== '[object File]' ? param(data) : data;\r\n\t\t}\r\n\t];\r\n});\r\n\r\nApp.config(Router);\r\nApp.controller('MainController', MainController);\r\nApp.controller('TablesController', TablesController);\r\nApp.controller('TableController', TableController);\r\nApp.factory(\"JsonDB\", JsonDB);\r\n\r\nApp.directive('breadcrumbs', Components.Semantic.BreadCrumbs);\r\n\r\nApp.directive('deleteButton', Components.Semantic.DeleteButton);\r\n\r\nApp.directive('inputField', FieldTypes.IntegerDir);\r\n\r\nApp.directive('addButton', Components.Semantic.AddButton);\r\n"],"sourceRoot":"/source/"}